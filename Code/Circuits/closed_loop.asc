Version 4
SHEET 1 1268 800
WIRE 128 -96 96 -96
WIRE 208 -96 192 -96
WIRE 96 -48 96 -96
WIRE 96 -48 32 -48
WIRE 208 -48 208 -96
WIRE 336 -48 208 -48
WIRE 96 0 96 -48
WIRE 112 0 96 0
WIRE 208 0 208 -48
WIRE 208 0 192 0
WIRE 160 96 160 80
WIRE -176 160 -208 160
WIRE -96 160 -112 160
WIRE 160 192 160 176
WIRE -448 208 -512 208
WIRE -208 208 -208 160
WIRE -208 208 -368 208
WIRE -96 208 -96 160
WIRE -48 208 -96 208
WIRE -208 256 -208 208
WIRE -192 256 -208 256
WIRE -96 256 -96 208
WIRE -96 256 -112 256
WIRE 768 256 672 256
WIRE -48 272 -48 208
WIRE 32 272 32 -48
WIRE 32 272 -48 272
WIRE 80 272 32 272
WIRE 336 272 336 -48
WIRE 336 272 288 272
WIRE 432 272 432 240
WIRE 432 272 336 272
WIRE 480 272 432 272
WIRE 624 272 480 272
WIRE -512 288 -512 208
WIRE 32 320 -48 320
WIRE 80 320 32 320
WIRE -176 336 -208 336
WIRE -96 336 -112 336
WIRE 336 336 288 336
WIRE 432 336 336 336
WIRE 480 336 432 336
WIRE 624 336 624 320
WIRE 624 336 480 336
WIRE 432 368 432 336
WIRE -512 384 -512 288
WIRE -448 384 -512 384
WIRE -208 384 -208 336
WIRE -208 384 -368 384
WIRE -96 384 -96 336
WIRE -48 384 -48 320
WIRE -48 384 -96 384
WIRE 160 416 160 400
WIRE -208 432 -208 384
WIRE -192 432 -208 432
WIRE -96 432 -96 384
WIRE -96 432 -112 432
WIRE 160 512 160 496
WIRE 144 592 112 592
WIRE 224 592 208 592
WIRE 32 640 32 320
WIRE 112 640 112 592
WIRE 112 640 32 640
WIRE 224 640 224 592
WIRE 336 640 336 336
WIRE 336 640 224 640
WIRE 112 688 112 640
WIRE 128 688 112 688
WIRE 224 688 224 640
WIRE 224 688 208 688
FLAG 160 80 0
FLAG 160 512 0
FLAG 480 272 Vop
FLAG 480 336 Von
FLAG 432 176 0
FLAG 432 432 0
FLAG -592 288 0
FLAG -1056 432 0
FLAG -1056 352 Vi
FLAG 768 256 Vo
FLAG 672 336 0
DATAFLAG -336 208 "round($*100)/100"
DATAFLAG -272 384 "round($*100)/100"
DATAFLAG -32 320 "round($*100)/100"
DATAFLAG 0 272 "round($*100)/100"
DATAFLAG 304 272 "round($*100)/100"
DATAFLAG 368 336 "round($*100)/100"
SYMBOL op_amp 192 384 R0
WINDOW 39 79 391 Bottom 2
SYMATTR SpiceLine Rbn={Rbn} Rbp={Rbp} Sa={Sa} Rmp={Rmp} R34={R34} Ibmain = {Ibmain} Sa_b = {Sa_b} Cin={Cin}
SYMATTR InstName X1
SYMBOL voltage 160 192 R180
WINDOW 0 24 96 Left 2
WINDOW 3 24 16 Left 2
WINDOW 123 0 0 Left 0
WINDOW 39 0 0 Left 0
SYMATTR InstName Vdd
SYMATTR Value 1.8
SYMBOL voltage 160 400 R0
WINDOW 123 0 0 Left 0
WINDOW 39 0 0 Left 0
SYMATTR InstName Vddb
SYMATTR Value 1.8
SYMBOL cap -112 144 R90
WINDOW 0 0 32 VBottom 2
WINDOW 3 32 32 VTop 2
SYMATTR InstName Cin1
SYMATTR Value {Cin}
SYMBOL res -96 240 R90
WINDOW 0 0 56 VBottom 2
WINDOW 3 32 56 VTop 2
SYMATTR InstName Rin1
SYMATTR Value {Rin}
SYMBOL cap -112 320 R90
WINDOW 0 0 32 VBottom 2
WINDOW 3 32 32 VTop 2
SYMATTR InstName Cin2
SYMATTR Value {Cin}
SYMBOL res -96 416 R90
WINDOW 0 0 56 VBottom 2
WINDOW 3 32 56 VTop 2
SYMATTR InstName Rin2
SYMATTR Value {Rin}
SYMBOL cap 192 -112 R90
WINDOW 0 0 32 VBottom 2
WINDOW 3 32 32 VTop 2
SYMATTR InstName Cfb1
SYMATTR Value {Cin/8}
SYMBOL res 208 -16 R90
WINDOW 0 0 56 VBottom 2
WINDOW 3 32 56 VTop 2
SYMATTR InstName Rfb1
SYMATTR Value {Rin*8}
SYMBOL cap 208 576 R90
WINDOW 0 0 32 VBottom 2
WINDOW 3 32 32 VTop 2
SYMATTR InstName Cfb2
SYMATTR Value {Cin/8}
SYMBOL res 224 672 R90
WINDOW 0 0 56 VBottom 2
WINDOW 3 32 56 VTop 2
SYMATTR InstName Rfb2
SYMATTR Value {Rin*8}
SYMBOL cap 416 176 R0
SYMATTR InstName Cload1
SYMATTR Value {Cin}
SYMBOL cap 416 368 R0
SYMATTR InstName Cload2
SYMATTR Value {Cin}
SYMBOL bv -352 208 R90
WINDOW 0 -32 56 VBottom 2
WINDOW 3 32 56 VTop 2
SYMATTR InstName B1
SYMATTR Value V=-V(Vi)/2
SYMBOL bv -352 384 R90
WINDOW 0 -32 56 VBottom 2
WINDOW 3 32 56 VTop 2
SYMATTR InstName B2
SYMATTR Value V=V(Vi)/2
SYMBOL voltage -496 288 R90
WINDOW 0 -32 56 VBottom 2
WINDOW 3 32 56 VTop 2
WINDOW 123 0 0 Left 0
WINDOW 39 0 0 Left 0
SYMATTR InstName V1
SYMATTR Value 0.9
SYMBOL voltage -1056 336 R0
WINDOW 123 24 124 Left 2
WINDOW 39 0 0 Left 0
WINDOW 3 24 44 Left 2
SYMATTR Value2 AC 1
SYMATTR Value PULSE(0 150m 1u 100f 100f 10m 0 1)
SYMATTR InstName Vi
SYMBOL e 672 240 R0
SYMATTR InstName E1
SYMATTR Value 1
TEXT 208 -208 Left 2 !.param Rbn=4.8 Rbp=6.2
TEXT 208 -184 Left 2 !.param Cin=32.36p Ibmain=572.1u Rmp=0.907 Sa=0.988 Sa_b=16.907 R34=95
TEXT 208 -232 Left 2 !.lib 'C:\\Users\\terlo\\OneDrive\\Documenten\\LTspiceXVII\\lib\\cmp\\log018.l' TT
TEXT 208 -160 Left 2 !.param Rin=100G
TEXT -1288 -56 Left 2 !;tran 0 3.41u 1.001u 0.005u
TEXT -1288 -32 Left 2 ;20*log10(1.2/abs(V(n005,n001)))
TEXT -1288 -8 Left 2 !;ac dec 100 1 100G
TEXT -1288 -104 Left 2 !;noise V(Vo) Vi dec 10 10k 100G
TEXT -1288 -176 Left 2 !;meas TRAN A0 FIND 20*log10(1.2/abs(V(n005,n001))) AT 0u
TEXT -1288 -200 Left 2 !.meas TRAN A1 FIND 20*log10(1.2/abs(V(n005,n001))) AT 2.405u
TEXT -1288 -152 Left 2 !.meas TRAN current FIND I(Vdd)*1e6 AT 2.405u
TEXT -1288 -128 Left 2 !;meas TRAN FoM PARAM min(0.4*pow(2.5,(abs(A0-19.3))) + 0.1*pow(10,(abs(A1-57.3))) + abs(current),50Meg)
TEXT -1288 -224 Left 2 !;save I(Vdd) V(n005) V(n001)
TEXT -1288 40 Left 2 !;step dec param Sa 1 5000 5
TEXT -1288 64 Left 2 !;step dec param Sa_b 1 5000 5
TEXT -1288 112 Left 2 !;step dec param Ibmain 1u 1000u 5
TEXT -1288 16 Left 2 !;op
TEXT -1288 -80 Left 2 !;meas NOISE vorms INTEG V(onoise)*1e6 FROM 10k TO 100G
